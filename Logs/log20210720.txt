2021-07-20 03:45:56.181 -04:00 [INF] Application is starting
2021-07-20 03:45:58.088 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 03:45:59.215 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 03:45:59.216 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 03:45:59.222 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 03:45:59.222 -04:00 [INF] Hosting environment: Development
2021-07-20 03:45:59.223 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 03:45:59.731 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 71
2021-07-20 03:45:59.835 -04:00 [INF] CORS policy execution successful.
2021-07-20 03:45:59.975 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 03:46:00.133 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 03:46:00.509 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - -
2021-07-20 03:46:00.567 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - - - 301 0 - 56.5152ms
2021-07-20 03:46:00.609 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 03:46:00.866 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 257.0420ms
2021-07-20 03:46:01.394 -04:00 [INF] Registration Attempt For userdaniel48@gmail.com
2021-07-20 03:46:01.615 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 03:46:02.164 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 549.1643ms
2021-07-20 03:46:05.645 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 03:46:08.394 -04:00 [INF] Executed DbCommand (262ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 03:46:08.975 -04:00 [INF] daniel48
2021-07-20 03:46:08.975 -04:00 [INF] daniel48
2021-07-20 03:46:08.975 -04:00 [INF] daniel48
2021-07-20 03:46:09.312 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 03:46:09.782 -04:00 [ERR] something wrong in the Login
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'System.String' requires a key size of at least 'System.Int32' bits. Key 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey', is of size: 'System.Int32'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at HotelListing.Services.AuthManager.CreateToken() in C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing\Services\AuthManager.cs:line 32
   at HotelListing.Controllers.AccountController.Login(LoginUserDTO userDTO) in C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing\Controllers\AccountController.cs:line 98
2021-07-20 03:46:09.956 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-07-20 03:46:10.224 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 10066.3382ms
2021-07-20 03:46:10.226 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 03:46:10.252 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 71 - 500 245 application/problem+json;+charset=utf-8 10539.0404ms
2021-07-20 04:04:09.402 -04:00 [INF] Application is starting
2021-07-20 04:04:12.437 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 04:04:12.976 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 04:04:12.976 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 04:04:12.977 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 04:04:12.977 -04:00 [INF] Hosting environment: Development
2021-07-20 04:04:12.977 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 04:04:14.078 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 04:04:14.224 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 150.7918ms
2021-07-20 04:04:14.508 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 04:04:14.550 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 04:04:14.551 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 43.0714ms
2021-07-20 04:04:14.603 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 04:04:14.808 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 205.2136ms
2021-07-20 04:04:45.763 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 132
2021-07-20 04:04:45.769 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:04:45.875 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 04:04:45.932 -04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:04:46.450 -04:00 [INF] Registration Attempt For usergobran@example.com
2021-07-20 04:04:46.480 -04:00 [WRN] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresUpper.
2021-07-20 04:04:46.484 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-07-20 04:04:46.559 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 615.7655ms
2021-07-20 04:04:46.560 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 04:04:46.564 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 132 - 400 182 application/json;+charset=utf-8 801.2497ms
2021-07-20 04:05:02.702 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 135
2021-07-20 04:05:02.702 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:05:02.708 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 04:05:02.708 -04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:05:02.710 -04:00 [INF] Registration Attempt For usergobran@example.com
2021-07-20 04:05:04.375 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:05:05.908 -04:00 [INF] Executed DbCommand (135ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:05:05.994 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 04:05:06.424 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-07-20 04:05:06.482 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 04:05:06.575 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-07-20 04:05:06.590 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 04:05:06.617 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:05:06.627 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 04:05:06.667 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-07-20 04:05:06.687 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-07-20 04:05:06.698 -04:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-07-20 04:05:06.699 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 3990.6995ms
2021-07-20 04:05:06.699 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 04:05:06.710 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 135 - 202 0 - 4008.2079ms
2021-07-20 04:05:19.674 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 64
2021-07-20 04:05:19.674 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:05:19.677 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:05:19.684 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:05:19.707 -04:00 [INF] Registration Attempt For usergobran@example.com
2021-07-20 04:05:19.772 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:05:19.774 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:05:19.804 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:05:19.804 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:05:19.804 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:05:19.917 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 04:05:20.082 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 04:05:20.094 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 409.8522ms
2021-07-20 04:05:20.094 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:05:20.094 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 64 - 202 352 application/json;+charset=utf-8 420.7153ms
2021-07-20 04:05:52.901 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country/2  application/json -
2021-07-20 04:05:52.902 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 04:05:52.908 -04:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 04:05:52.923 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:05:53.033 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2021-07-20 04:05:53.071 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.CountryDTO'.
2021-07-20 04:05:53.082 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 173.1801ms
2021-07-20 04:05:53.082 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 04:05:53.082 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country/2  application/json - - 200 126 application/json;+charset=utf-8 180.9544ms
2021-07-20 04:06:00.105 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:06:00.116 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:06:00.120 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:06:00.121 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 15.7140ms
2021-07-20 04:06:11.760 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:06:11.844 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:06:11.868 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:06:11.869 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:06:11.872 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:06:11.872 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 112.4866ms
2021-07-20 04:06:21.486 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:06:21.487 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:06:21.487 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:06:21.488 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:06:21.488 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:06:21.489 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 2.9079ms
2021-07-20 04:08:28.042 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:08:28.043 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:08:28.043 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:08:28.043 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:08:28.043 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:08:28.044 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 1.8436ms
2021-07-20 04:11:40.581 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:11:40.581 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:11:40.582 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:11:40.582 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:11:40.582 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:11:40.582 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 1.9015ms
2021-07-20 04:12:39.119 -04:00 [INF] Application is starting
2021-07-20 04:12:40.229 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 04:12:40.690 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 04:12:40.690 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 04:12:40.690 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 04:12:40.690 -04:00 [INF] Hosting environment: Development
2021-07-20 04:12:40.690 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 04:12:41.654 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 04:12:41.854 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 204.2338ms
2021-07-20 04:12:41.998 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 04:12:42.025 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 04:12:42.033 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 27.5019ms
2021-07-20 04:12:42.273 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 04:12:42.275 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 04:12:42.275 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 2.3110ms
2021-07-20 04:12:42.403 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 04:12:42.698 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.1273ms
2021-07-20 04:13:12.934 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 54
2021-07-20 04:13:12.940 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:13:13.037 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:13:13.106 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:13:13.495 -04:00 [INF] Registration Attempt For usergobran@example.com
2021-07-20 04:13:14.860 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:13:15.830 -04:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:13:16.018 -04:00 [WRN] Invalid password for user.
2021-07-20 04:13:16.027 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-07-20 04:13:16.114 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 2997.4518ms
2021-07-20 04:13:16.115 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:13:16.125 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 54 - 401 162 application/problem+json;+charset=utf-8 3190.6317ms
2021-07-20 04:13:55.519 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 137
2021-07-20 04:13:55.520 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:13:55.526 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 04:13:55.532 -04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:13:55.556 -04:00 [INF] Registration Attempt For usergobran12@example.com
2021-07-20 04:13:55.645 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:13:55.654 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:13:55.676 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 04:13:55.881 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-07-20 04:13:55.929 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 04:13:55.977 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-07-20 04:13:55.982 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 04:13:55.999 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:13:56.001 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 04:13:56.024 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-07-20 04:13:56.028 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-07-20 04:13:56.033 -04:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-07-20 04:13:56.033 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 500.8007ms
2021-07-20 04:13:56.033 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 04:13:56.034 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 137 - 202 0 - 514.2514ms
2021-07-20 04:14:12.026 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56
2021-07-20 04:14:12.027 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:14:12.031 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:14:12.031 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:14:12.046 -04:00 [INF] Registration Attempt For usergobran12@example.com
2021-07-20 04:14:12.059 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:14:12.061 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:14:12.077 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:14:12.077 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:14:12.077 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:14:12.168 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 04:14:12.345 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 04:14:12.349 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 318.1353ms
2021-07-20 04:14:12.349 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:14:12.349 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56 - 202 355 application/json;+charset=utf-8 323.2243ms
2021-07-20 04:14:24.170 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:14:24.247 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:14:24.271 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:14:24.276 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:14:24.286 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:14:24.287 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 118.1963ms
2021-07-20 04:15:41.610 -04:00 [INF] Application is starting
2021-07-20 04:15:42.950 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 04:15:43.367 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 04:15:43.368 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 04:15:43.369 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 04:15:43.369 -04:00 [INF] Hosting environment: Development
2021-07-20 04:15:43.369 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 04:15:44.501 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 04:15:44.501 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:15:44.734 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 235.0059ms
2021-07-20 04:15:44.858 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 04:15:44.904 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 04:15:44.905 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 46.9226ms
2021-07-20 04:15:45.100 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:15:45.113 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 04:15:45.145 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 04:15:45.145 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:15:45.145 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 32.3183ms
2021-07-20 04:15:45.248 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 04:15:45.291 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:15:45.319 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:15:45.321 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 827.2807ms
2021-07-20 04:15:45.636 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 389.4918ms
2021-07-20 04:15:47.988 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:15:47.992 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:15:47.993 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:15:48.000 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:15:48.000 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:15:48.001 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 12.7725ms
2021-07-20 04:16:00.673 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56
2021-07-20 04:16:00.676 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:16:00.678 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:16:00.743 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:16:01.188 -04:00 [INF] Registration Attempt For usergobran12@example.com
2021-07-20 04:16:02.881 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:16:03.868 -04:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:16:04.057 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:16:04.057 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:16:04.057 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:16:04.177 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 04:16:04.240 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 04:16:04.316 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3561.8974ms
2021-07-20 04:16:04.318 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:16:04.326 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56 - 202 355 application/json;+charset=utf-8 3653.1049ms
2021-07-20 04:16:14.437 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:16:14.438 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:16:14.438 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:16:14.439 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:16:14.439 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:16:14.440 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 2.4367ms
2021-07-20 04:16:29.302 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:16:29.303 -04:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiZ29icmFuMTJAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJVc2VyIiwiZXhwIjoxNjI2NzY5ODY0LCJpc3MiOiJIb3RlbExpc3RpbmdBUEkifQ.RGQq4WIyfrSVRUElIyoh24NEhJ731NLNI3Lksx1isIk"
2021-07-20 04:16:29.303 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:16:29.303 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:16:29.303 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 1.0582ms
2021-07-20 04:21:49.235 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json -
2021-07-20 04:21:49.235 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:21:49.236 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:21:49.236 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:21:49.236 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:21:49.236 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/2  application/json - - 401 0 - 1.9188ms
2021-07-20 04:21:52.858 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:21:52.859 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:21:52.859 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:21:52.859 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:21:52.860 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:21:52.860 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 2.0675ms
2021-07-20 04:22:20.299 -04:00 [INF] Application is starting
2021-07-20 04:22:21.576 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 04:22:21.953 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 04:22:21.954 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 04:22:21.954 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 04:22:21.954 -04:00 [INF] Hosting environment: Development
2021-07-20 04:22:21.955 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 04:22:22.213 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:22:22.483 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 04:22:22.661 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 177.6579ms
2021-07-20 04:22:22.826 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 04:22:22.890 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 04:22:22.891 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 64.0155ms
2021-07-20 04:22:22.891 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:22:22.936 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:22:23.008 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:22:23.025 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:22:23.028 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 820.0344ms
2021-07-20 04:22:23.064 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 04:22:23.067 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 04:22:23.067 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 2.5931ms
2021-07-20 04:22:23.147 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 04:22:23.527 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 380.1514ms
2021-07-20 04:27:32.163 -04:00 [INF] Application is starting
2021-07-20 04:27:32.939 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 04:27:33.309 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 04:27:33.309 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 04:27:33.309 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 04:27:33.309 -04:00 [INF] Hosting environment: Development
2021-07-20 04:27:33.309 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 04:27:34.206 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 04:27:34.206 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:27:34.422 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 220.9708ms
2021-07-20 04:27:34.572 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 04:27:34.649 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 04:27:34.650 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 77.7300ms
2021-07-20 04:27:34.801 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:27:34.873 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:27:34.888 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 04:27:34.900 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 04:27:34.900 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 11.5591ms
2021-07-20 04:27:35.004 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 04:27:35.044 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:27:35.064 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:27:35.074 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 874.1979ms
2021-07-20 04:27:35.421 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 417.1771ms
2021-07-20 04:27:38.665 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:27:38.670 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:27:38.672 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:27:38.676 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:27:38.676 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:27:38.677 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 11.1005ms
2021-07-20 04:27:46.612 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56
2021-07-20 04:27:46.619 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:27:46.621 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:27:46.687 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:27:47.109 -04:00 [INF] Registration Attempt For usergobran12@example.com
2021-07-20 04:27:48.608 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:27:49.605 -04:00 [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:27:49.810 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:27:49.810 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:27:49.810 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:27:49.935 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 04:27:50.002 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 04:27:50.079 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3379.2213ms
2021-07-20 04:27:50.080 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:27:50.089 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56 - 202 355 application/json;+charset=utf-8 3476.4978ms
2021-07-20 04:27:59.380 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:27:59.381 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:27:59.381 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:27:59.382 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:27:59.383 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:27:59.383 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 2.8244ms
2021-07-20 04:28:00.654 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:28:00.655 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:28:00.656 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:28:00.656 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:28:00.657 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:28:00.659 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 4.4738ms
2021-07-20 04:36:06.681 -04:00 [INF] Application is starting
2021-07-20 04:36:07.772 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 04:36:08.123 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 04:36:08.123 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 04:36:08.124 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 04:36:08.124 -04:00 [INF] Hosting environment: Development
2021-07-20 04:36:08.124 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 04:36:08.748 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 04:36:08.901 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 156.8460ms
2021-07-20 04:36:09.048 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 04:36:09.122 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 04:36:09.124 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 75.9488ms
2021-07-20 04:36:09.226 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 04:36:09.229 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 04:36:09.229 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 3.3327ms
2021-07-20 04:36:09.297 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 04:36:09.606 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 308.5192ms
2021-07-20 04:36:13.020 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56
2021-07-20 04:36:13.027 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:36:13.148 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:36:13.221 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:36:13.721 -04:00 [INF] Registration Attempt For usergobran12@example.com
2021-07-20 04:36:15.181 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:36:16.334 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:36:16.613 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:36:16.613 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:36:16.613 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:36:16.763 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 04:36:16.933 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 04:36:17.039 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3803.802ms
2021-07-20 04:36:17.042 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:36:17.060 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56 - 202 355 application/json;+charset=utf-8 4039.1257ms
2021-07-20 04:36:26.857 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:36:26.975 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:36:27.001 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:36:27.012 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:36:27.029 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:36:27.030 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 173.1432ms
2021-07-20 04:36:28.914 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:36:28.923 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:36:28.924 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:36:28.925 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:36:28.925 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:36:28.925 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 11.2895ms
2021-07-20 04:40:14.118 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:40:14.119 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 04:40:14.119 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2021-07-20 04:40:14.121 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2021-07-20 04:40:14.121 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 04:40:14.121 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 401 0 - 3.3795ms
2021-07-20 04:41:27.895 -04:00 [INF] Application is starting
2021-07-20 04:41:29.159 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 04:41:29.618 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 04:41:29.618 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 04:41:29.618 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 04:41:29.618 -04:00 [INF] Hosting environment: Development
2021-07-20 04:41:29.618 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 04:41:30.094 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56
2021-07-20 04:41:30.225 -04:00 [INF] CORS policy execution successful.
2021-07-20 04:41:30.296 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger - -
2021-07-20 04:41:30.325 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 04:41:30.328 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger - - - 0 - - 33.0238ms
2021-07-20 04:41:30.459 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:41:30.540 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 214.9191ms
2021-07-20 04:41:30.595 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 04:41:30.708 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 04:41:30.765 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 04:41:30.765 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 57.0337ms
2021-07-20 04:41:30.954 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 04:41:30.957 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 04:41:30.957 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 200 665 image/png 3.0979ms
2021-07-20 04:41:31.044 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 04:41:31.309 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 265.7690ms
2021-07-20 04:41:31.439 -04:00 [INF] Registration Attempt For usergobran12@example.com
2021-07-20 04:41:33.986 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:41:35.427 -04:00 [INF] Executed DbCommand (194ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 04:41:35.706 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:41:35.706 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:41:35.706 -04:00 [INF] 00-44015efaefca1b41995ba09bef4d78ef-0a08a5fae4828b4f-00
2021-07-20 04:41:35.838 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 04:41:36.026 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 04:41:36.114 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 5508.6047ms
2021-07-20 04:41:36.115 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 04:41:36.127 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 56 - 202 355 application/json;+charset=utf-8 6037.4377ms
2021-07-20 04:41:48.106 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 04:41:48.291 -04:00 [INF] Successfully validated the token.
2021-07-20 04:41:48.299 -04:00 [INF] Authorization was successful.
2021-07-20 04:41:48.299 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-20 04:41:48.306 -04:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 04:41:48.360 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 04:41:48.425 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_0
2021-07-20 04:41:48.488 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-07-20 04:41:48.526 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 220.0801ms
2021-07-20 04:41:48.526 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-20 04:41:48.528 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 200 137 application/json;+charset=utf-8 421.5629ms
2021-07-20 05:09:22.615 -04:00 [INF] Application is starting
2021-07-20 05:09:24.411 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 05:09:25.278 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 05:09:25.278 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 05:09:25.279 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 05:09:25.280 -04:00 [INF] Hosting environment: Development
2021-07-20 05:09:25.280 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 05:09:26.792 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json -
2021-07-20 05:09:27.321 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 05:09:27.614 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 288.8567ms
2021-07-20 05:09:28.188 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 05:09:28.234 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 05:09:28.335 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-07-20 05:09:28.335 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 05:09:28.335 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 100.9363ms
2021-07-20 05:09:28.339 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-20 05:09:28.402 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 05:09:28.529 -04:00 [INF] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 05:09:29.013 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 610.9636ms
2021-07-20 05:09:33.665 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:09:36.286 -04:00 [INF] Executed DbCommand (225ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_0
2021-07-20 05:09:36.546 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.HotelDTO'.
2021-07-20 05:09:37.008 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 8451.9555ms
2021-07-20 05:09:37.010 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'
2021-07-20 05:09:37.027 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Hotel/1 application/json - - 200 137 application/json;+charset=utf-8 10249.4900ms
2021-07-20 05:10:30.092 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel application/json 105
2021-07-20 05:10:30.098 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 05:10:30.099 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-07-20 05:10:30.109 -04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2021-07-20 05:10:30.133 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-07-20 05:10:30.135 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel application/json 105 - 401 0 - 43.2615ms
2021-07-20 05:11:33.928 -04:00 [INF] Application is starting
2021-07-20 05:11:35.748 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 05:11:36.535 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 05:11:36.535 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 05:11:36.535 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 05:11:36.535 -04:00 [INF] Hosting environment: Development
2021-07-20 05:11:36.535 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 05:11:38.037 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 05:11:38.399 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 371.3566ms
2021-07-20 05:11:38.564 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 05:11:38.619 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 05:11:38.620 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 55.3191ms
2021-07-20 05:11:38.926 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 05:11:38.931 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 05:11:38.932 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 200 665 image/png 5.8857ms
2021-07-20 05:11:39.066 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 05:11:39.518 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 452.1463ms
2021-07-20 05:12:06.703 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 142
2021-07-20 05:12:06.748 -04:00 [INF] CORS policy execution successful.
2021-07-20 05:12:07.082 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:12:07.231 -04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 05:12:08.157 -04:00 [INF] Registration Attempt For useradmin@example.com
2021-07-20 05:12:08.990 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 142
2021-07-20 05:12:08.991 -04:00 [INF] CORS policy execution successful.
2021-07-20 05:12:09.003 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:12:09.004 -04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 05:12:09.009 -04:00 [INF] Registration Attempt For useradmin@example.com
2021-07-20 05:12:11.418 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:12:11.418 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:12:11.452 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 142
2021-07-20 05:12:11.454 -04:00 [INF] CORS policy execution successful.
2021-07-20 05:12:11.463 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:12:11.464 -04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 05:12:11.487 -04:00 [INF] Registration Attempt For useradmin@example.com
2021-07-20 05:12:11.666 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:12:13.780 -04:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 05:12:13.780 -04:00 [INF] Executed DbCommand (213ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 05:12:13.800 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 05:12:13.906 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 05:12:13.907 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 05:12:13.912 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 05:12:14.460 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-07-20 05:12:14.609 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 05:12:14.788 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-07-20 05:12:14.812 -04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 05:12:14.868 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 05:12:14.892 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 05:12:14.964 -04:00 [ERR] Failed executing DbCommand (522ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-07-20 05:12:14.973 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-07-20 05:12:14.989 -04:00 [ERR] Failed executing DbCommand (549ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-07-20 05:12:15.000 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-07-20 05:12:15.051 -04:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-07-20 05:12:15.064 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 3588.3532ms
2021-07-20 05:12:15.066 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:12:15.081 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 142 - 202 0 - 3628.1346ms
2021-07-20 05:12:15.089 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'HotelListing.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.AspNetUsers' with unique index 'UserNameIndex'. The duplicate key value is (ADMIN@EXAMPLE.COM).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b4ff2a27-4d4e-4071-95fe-22f025a85c6d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.AspNetUsers' with unique index 'UserNameIndex'. The duplicate key value is (ADMIN@EXAMPLE.COM).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b4ff2a27-4d4e-4071-95fe-22f025a85c6d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-07-20 05:12:15.096 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'HotelListing.Data.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.AspNetUsers' with unique index 'UserNameIndex'. The duplicate key value is (ADMIN@EXAMPLE.COM).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0af4f975-7dbf-4c9b-86b8-1d8262b6d3ff
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.AspNetUsers' with unique index 'UserNameIndex'. The duplicate key value is (ADMIN@EXAMPLE.COM).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0af4f975-7dbf-4c9b-86b8-1d8262b6d3ff
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-07-20 05:12:15.097 -04:00 [ERR] something wrong in the Register
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.AspNetUsers' with unique index 'UserNameIndex'. The duplicate key value is (ADMIN@EXAMPLE.COM).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b4ff2a27-4d4e-4071-95fe-22f025a85c6d
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at HotelListing.Controllers.AccountController.Register(UserDTO userDTO) in C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing\Controllers\AccountController.cs:line 55
2021-07-20 05:12:15.100 -04:00 [ERR] something wrong in the Register
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.AspNetUsers' with unique index 'UserNameIndex'. The duplicate key value is (ADMIN@EXAMPLE.COM).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0af4f975-7dbf-4c9b-86b8-1d8262b6d3ff
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.CreateAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user, String password)
   at HotelListing.Controllers.AccountController.Register(UserDTO userDTO) in C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing\Controllers\AccountController.cs:line 55
2021-07-20 05:12:15.139 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-07-20 05:12:15.142 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-07-20 05:12:15.275 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 8042.2323ms
2021-07-20 05:12:15.275 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 6270.3107ms
2021-07-20 05:12:15.275 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:12:15.276 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:12:15.276 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 142 - 500 248 application/problem+json;+charset=utf-8 8573.0487ms
2021-07-20 05:12:15.277 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 142 - 500 248 application/problem+json;+charset=utf-8 6286.7184ms
2021-07-20 05:15:14.494 -04:00 [INF] Application is starting
2021-07-20 05:15:16.747 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 05:15:17.836 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 05:15:17.836 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 05:15:17.836 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 05:15:17.836 -04:00 [INF] Hosting environment: Development
2021-07-20 05:15:17.836 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 05:15:18.898 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 05:15:19.268 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 379.5736ms
2021-07-20 05:15:19.949 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 05:15:20.413 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 464.4474ms
2021-07-20 05:15:22.331 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 140
2021-07-20 05:15:22.352 -04:00 [INF] CORS policy execution successful.
2021-07-20 05:15:22.846 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:15:23.034 -04:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 05:15:24.213 -04:00 [INF] Registration Attempt For useradmin@gmail.com
2021-07-20 05:15:27.960 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:15:30.556 -04:00 [INF] Executed DbCommand (280ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 05:15:30.715 -04:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 05:15:31.504 -04:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-07-20 05:15:31.629 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 05:15:31.801 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-07-20 05:15:31.839 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-07-20 05:15:31.889 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 05:15:31.909 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-07-20 05:15:31.977 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-07-20 05:15:32.006 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-07-20 05:15:32.051 -04:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-07-20 05:15:32.063 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 9016.8889ms
2021-07-20 05:15:32.065 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2021-07-20 05:15:32.078 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 140 - 202 0 - 9747.0664ms
2021-07-20 05:15:53.001 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 60
2021-07-20 05:15:53.002 -04:00 [INF] CORS policy execution successful.
2021-07-20 05:15:53.013 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 05:15:53.027 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 05:15:53.040 -04:00 [INF] Registration Attempt For useradmin@gmail.com
2021-07-20 05:15:53.138 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:15:53.157 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 05:15:53.484 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 05:15:53.854 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 05:15:53.996 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 967.9696ms
2021-07-20 05:15:53.996 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 05:15:53.997 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 60 - 202 360 application/json;+charset=utf-8 995.6306ms
2021-07-20 05:16:16.609 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel application/json 105
2021-07-20 05:16:16.861 -04:00 [INF] Successfully validated the token.
2021-07-20 05:16:16.878 -04:00 [INF] Authorization was successful.
2021-07-20 05:16:16.880 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-20 05:16:16.889 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 05:16:16.985 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:16:17.345 -04:00 [INF] Executed DbCommand (145ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-20 05:16:17.472 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'.
2021-07-20 05:16:17.511 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 621.7583ms
2021-07-20 05:16:17.512 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-20 05:16:17.516 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-07-20 05:16:17.624 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel application/json 105 - 500 - text/plain 1015.5050ms
2021-07-20 05:17:57.709 -04:00 [INF] Application is starting
2021-07-20 05:17:59.508 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 05:18:00.444 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 05:18:00.445 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 05:18:00.445 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 05:18:00.445 -04:00 [INF] Hosting environment: Development
2021-07-20 05:18:00.445 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 05:18:01.623 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/Hotel application/json 105
2021-07-20 05:18:02.964 -04:00 [INF] Successfully validated the token.
2021-07-20 05:18:02.988 -04:00 [INF] Authorization was successful.
2021-07-20 05:18:02.991 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-20 05:18:03.130 -04:00 [INF] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 05:18:07.793 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 05:18:08.226 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 431.8906ms
2021-07-20 05:18:08.565 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 05:18:08.953 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 05:18:08.985 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 05:18:08.985 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 32.2384ms
2021-07-20 05:18:10.052 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 05:18:10.163 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 05:18:10.170 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 05:18:10.170 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 0 665 image/png 7.4156ms
2021-07-20 05:18:10.523 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 470.4396ms
2021-07-20 05:18:11.370 -04:00 [INF] Executed DbCommand (251ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2021-07-20 05:18:11.676 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'HotelListing.Data.Hotel'.
2021-07-20 05:18:11.992 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 8845.3673ms
2021-07-20 05:18:11.993 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'
2021-07-20 05:18:12.037 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/Hotel application/json 105 - 201 93 application/json;+charset=utf-8 10428.7738ms
2021-07-20 08:33:50.198 -04:00 [INF] Application is starting
2021-07-20 08:33:51.647 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:33:52.225 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:33:52.225 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:33:52.225 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:33:52.225 -04:00 [INF] Hosting environment: Development
2021-07-20 08:33:52.225 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:33:53.451 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:33:53.747 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 298.8203ms
2021-07-20 08:33:53.863 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - -
2021-07-20 08:33:53.916 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-07-20 08:33:53.917 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui.css - - - 0 142933 text/css 53.5204ms
2021-07-20 08:33:54.142 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - -
2021-07-20 08:33:54.146 -04:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-07-20 08:33:54.146 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-16x16.png - - - 200 665 image/png 4.6386ms
2021-07-20 08:33:54.289 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:33:54.738 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 449.0487ms
2021-07-20 08:34:19.392 -04:00 [INF] Application is starting
2021-07-20 08:34:20.741 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:34:21.446 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:34:21.446 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:34:21.446 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:34:21.446 -04:00 [INF] Hosting environment: Development
2021-07-20 08:34:21.446 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:34:22.781 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:34:23.085 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 310.6028ms
2021-07-20 08:34:23.660 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:34:24.062 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 402.1316ms
2021-07-20 08:34:28.777 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101
2021-07-20 08:34:29.330 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2021-07-20 08:34:29.385 -04:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
2021-07-20 08:34:29.391 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-20 08:34:29.391 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-20 08:34:29.396 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101 - 405 0 - 618.9526ms
2021-07-20 08:35:34.194 -04:00 [INF] Application is starting
2021-07-20 08:35:35.603 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:35:36.290 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:35:36.290 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:35:36.290 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:35:36.290 -04:00 [INF] Hosting environment: Development
2021-07-20 08:35:36.290 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:35:37.221 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:35:37.540 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 326.1176ms
2021-07-20 08:35:38.609 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:35:39.099 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 489.9159ms
2021-07-20 08:35:56.284 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 52
2021-07-20 08:35:56.310 -04:00 [INF] CORS policy execution successful.
2021-07-20 08:35:56.508 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 08:35:56.628 -04:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2021-07-20 08:35:57.441 -04:00 [INF] Registration Attempt For useradmin@example.com
2021-07-20 08:36:01.040 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 08:36:03.686 -04:00 [INF] Executed DbCommand (233ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-07-20 08:36:04.556 -04:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-07-20 08:36:04.956 -04:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2021-07-20 08:36:05.128 -04:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 8482.1995ms
2021-07-20 08:36:05.132 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2021-07-20 08:36:05.157 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/login application/json-patch+json 52 - 202 363 application/json;+charset=utf-8 8872.2889ms
2021-07-20 08:36:22.203 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101
2021-07-20 08:36:22.449 -04:00 [INF] Successfully validated the token.
2021-07-20 08:36:22.454 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-20 08:36:22.455 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-20 08:36:22.458 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101 - 405 0 - 254.6927ms
2021-07-20 08:36:25.746 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101
2021-07-20 08:36:25.751 -04:00 [INF] Successfully validated the token.
2021-07-20 08:36:25.752 -04:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2021-07-20 08:36:25.752 -04:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2021-07-20 08:36:25.752 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101 - 405 0 - 5.5507ms
2021-07-20 08:36:38.514 -04:00 [INF] Application is starting
2021-07-20 08:36:40.193 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:36:40.944 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:36:40.945 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:36:40.945 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:36:40.945 -04:00 [INF] Hosting environment: Development
2021-07-20 08:36:40.945 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:36:42.195 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:36:42.554 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 367.3120ms
2021-07-20 08:36:43.202 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:36:43.638 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 435.8044ms
2021-07-20 08:38:17.533 -04:00 [INF] Application is starting
2021-07-20 08:38:19.315 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:38:20.023 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:38:20.023 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:38:20.024 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:38:20.024 -04:00 [INF] Hosting environment: Development
2021-07-20 08:38:20.024 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:38:20.840 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:38:21.246 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 416.0095ms
2021-07-20 08:38:21.932 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:38:22.487 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 555.0198ms
2021-07-20 08:39:20.489 -04:00 [INF] Application is starting
2021-07-20 08:39:22.463 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:39:23.507 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:39:23.508 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:39:23.508 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:39:23.508 -04:00 [INF] Hosting environment: Development
2021-07-20 08:39:23.509 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:39:23.974 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101
2021-07-20 08:39:24.346 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:39:24.648 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 300.9741ms
2021-07-20 08:39:25.231 -04:00 [INF] Successfully validated the token.
2021-07-20 08:39:25.266 -04:00 [INF] Authorization was successful.
2021-07-20 08:39:25.271 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-20 08:39:25.423 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:39:25.458 -04:00 [INF] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.UpdateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 08:39:25.857 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 433.6743ms
2021-07-20 08:39:29.893 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 08:39:32.202 -04:00 [INF] Executed DbCommand (209ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-20 08:39:33.066 -04:00 [INF] Executed DbCommand (47ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [CountryId] = @p1, [Name] = @p2, [Rating] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2021-07-20 08:39:33.151 -04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-20 08:39:33.173 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 7693.5781ms
2021-07-20 08:39:33.176 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-20 08:39:33.193 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 101 - 204 - - 9230.8702ms
2021-07-20 08:55:37.341 -04:00 [INF] Application is starting
2021-07-20 08:55:39.303 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:55:40.121 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:55:40.122 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:55:40.122 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:55:40.122 -04:00 [INF] Hosting environment: Development
2021-07-20 08:55:40.123 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:55:41.657 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:55:42.088 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 441.2825ms
2021-07-20 08:55:42.832 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:55:43.357 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 525.5303ms
2021-07-20 08:56:31.159 -04:00 [INF] Application is starting
2021-07-20 08:56:33.076 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 08:56:35.919 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 08:56:35.920 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 08:56:35.921 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 08:56:35.921 -04:00 [INF] Hosting environment: Development
2021-07-20 08:56:35.921 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 08:56:37.329 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 08:56:37.755 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 432.9436ms
2021-07-20 08:56:38.500 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 08:56:38.953 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 452.5038ms
2021-07-20 08:57:57.903 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 172
2021-07-20 08:57:58.343 -04:00 [INF] Successfully validated the token.
2021-07-20 08:57:58.354 -04:00 [INF] Authorization was successful.
2021-07-20 08:57:58.356 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-20 08:57:58.437 -04:00 [INF] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.UpdateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 08:57:59.007 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-07-20 08:57:59.173 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 718.7327ms
2021-07-20 08:57:59.176 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-20 08:57:59.178 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 172 - 400 302 application/problem+json;+charset=utf-8 1274.7943ms
2021-07-20 09:00:19.013 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 150
2021-07-20 09:00:19.017 -04:00 [INF] Successfully validated the token.
2021-07-20 09:00:19.018 -04:00 [INF] Authorization was successful.
2021-07-20 09:00:19.018 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-20 09:00:19.019 -04:00 [INF] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.UpdateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 09:00:19.021 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-07-20 09:00:19.022 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 3.325ms
2021-07-20 09:00:19.022 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'
2021-07-20 09:00:19.023 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Hotel/4 application/json 150 - 400 302 application/problem+json;+charset=utf-8 9.7365ms
2021-07-20 09:00:43.706 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Country/4 application/json 150
2021-07-20 09:00:43.709 -04:00 [INF] Successfully validated the token.
2021-07-20 09:00:43.710 -04:00 [INF] Authorization was successful.
2021-07-20 09:00:43.711 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:00:43.716 -04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountrylDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:00:44.934 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:00:45.819 -04:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-20 09:00:45.856 -04:00 [ERR] invalid Update attempt in UpdateCountry
2021-07-20 09:00:45.860 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-07-20 09:00:45.862 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 2145.5604ms
2021-07-20 09:00:45.862 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:00:45.871 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Country/4 application/json 150 - 400 - text/plain;+charset=utf-8 2165.5383ms
2021-07-20 09:01:18.191 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Country/4 application/json 150
2021-07-20 09:01:18.192 -04:00 [INF] Successfully validated the token.
2021-07-20 09:01:18.192 -04:00 [INF] Authorization was successful.
2021-07-20 09:01:18.192 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:01:18.192 -04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountrylDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:01:18.247 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:01:18.259 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-20 09:01:18.260 -04:00 [ERR] invalid Update attempt in UpdateCountry
2021-07-20 09:01:18.260 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-07-20 09:01:18.260 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 67.9791ms
2021-07-20 09:01:18.260 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:01:18.261 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Country/4 application/json 150 - 400 - text/plain;+charset=utf-8 69.3698ms
2021-07-20 09:01:25.978 -04:00 [INF] Application is starting
2021-07-20 09:01:26.941 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 09:01:27.342 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 09:01:27.342 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 09:01:27.342 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 09:01:27.343 -04:00 [INF] Hosting environment: Development
2021-07-20 09:01:27.343 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 09:01:28.093 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 09:01:28.267 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Country/4 application/json 150
2021-07-20 09:01:28.366 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 277.4634ms
2021-07-20 09:01:28.845 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 09:01:29.006 -04:00 [INF] Successfully validated the token.
2021-07-20 09:01:29.019 -04:00 [INF] Authorization was successful.
2021-07-20 09:01:29.022 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:01:29.141 -04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountrylDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:01:29.148 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 302.8214ms
2021-07-20 09:01:31.005 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:01:31.950 -04:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-20 09:01:31.993 -04:00 [ERR] invalid Update attempt in UpdateCountry
2021-07-20 09:01:32.005 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-07-20 09:01:32.016 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 2865.7954ms
2021-07-20 09:01:32.018 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:01:32.027 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Country/4 application/json 150 - 400 - text/plain;+charset=utf-8 3760.7983ms
2021-07-20 09:01:47.585 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:5001/api/Country/1 application/json 150
2021-07-20 09:01:47.590 -04:00 [INF] Successfully validated the token.
2021-07-20 09:01:47.591 -04:00 [INF] Authorization was successful.
2021-07-20 09:01:47.591 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:01:47.592 -04:00 [INF] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.UpdateCountrylDTO) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:01:47.640 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:01:47.650 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_0
2021-07-20 09:01:47.878 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2021-07-20 09:01:47.914 -04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-20 09:01:47.914 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 322.3284ms
2021-07-20 09:01:47.914 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'
2021-07-20 09:01:47.915 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:5001/api/Country/1 application/json 150 - 204 - - 329.5874ms
2021-07-20 09:01:55.775 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country/4 application/json 150
2021-07-20 09:01:55.779 -04:00 [INF] Successfully validated the token.
2021-07-20 09:01:55.779 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:01:55.788 -04:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:01:55.829 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:01:55.998 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2021-07-20 09:01:55.999 -04:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-07-20 09:01:55.999 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 210.9079ms
2021-07-20 09:01:55.999 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:01:55.999 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country/4 application/json 150 - 204 0 - 224.8444ms
2021-07-20 09:01:59.996 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country/4 application/json 150
2021-07-20 09:01:59.996 -04:00 [INF] Successfully validated the token.
2021-07-20 09:01:59.996 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:01:59.997 -04:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:01:59.997 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:02:00.001 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2021-07-20 09:02:00.001 -04:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-07-20 09:02:00.001 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 4.7628ms
2021-07-20 09:02:00.002 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:02:00.002 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country/4 application/json 150 - 204 0 - 6.2119ms
2021-07-20 09:02:09.613 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country/4 application/json 150
2021-07-20 09:02:09.614 -04:00 [INF] Successfully validated the token.
2021-07-20 09:02:09.614 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:02:09.614 -04:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:02:09.616 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:02:09.618 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2021-07-20 09:02:09.618 -04:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2021-07-20 09:02:09.618 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 4.058ms
2021-07-20 09:02:09.618 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:02:09.619 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country/4 application/json 150 - 204 0 - 5.5118ms
2021-07-20 09:02:14.532 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/Country/1 application/json 150
2021-07-20 09:02:14.533 -04:00 [INF] Successfully validated the token.
2021-07-20 09:02:14.533 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:02:14.533 -04:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2021-07-20 09:02:14.538 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:02:14.560 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2021-07-20 09:02:14.626 -04:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.CountryDTO'.
2021-07-20 09:02:14.697 -04:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 163.9697ms
2021-07-20 09:02:14.697 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2021-07-20 09:02:14.697 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/Country/1 application/json 150 - 200 274 application/json;+charset=utf-8 165.3667ms
2021-07-20 09:17:05.344 -04:00 [INF] Application is starting
2021-07-20 09:17:07.352 -04:00 [INF] User profile is available. Using 'C:\Users\EAGLE\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-07-20 09:17:08.289 -04:00 [INF] Now listening on: https://localhost:5001
2021-07-20 09:17:08.289 -04:00 [INF] Now listening on: http://localhost:5000
2021-07-20 09:17:08.290 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-07-20 09:17:08.290 -04:00 [INF] Hosting environment: Development
2021-07-20 09:17:08.290 -04:00 [INF] Content root path: C:\Users\EAGLE\RiderProjects\HotelListing\HotelListing
2021-07-20 09:17:09.225 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - -
2021-07-20 09:17:09.587 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 370.3486ms
2021-07-20 09:17:10.212 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-07-20 09:17:10.590 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 378.2308ms
2021-07-20 09:17:12.164 -04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Hotel/5 application/json 150
2021-07-20 09:17:13.071 -04:00 [INF] Successfully validated the token.
2021-07-20 09:17:13.093 -04:00 [INF] Authorization was successful.
2021-07-20 09:17:13.099 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:13.244 -04:00 [INF] Route matched with {action = "DeleteHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 09:17:17.261 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:17:19.584 -04:00 [INF] Executed DbCommand (211ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-20 09:17:19.705 -04:00 [ERR] invalid Delete attempt in DeleteHotel
2021-07-20 09:17:19.736 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-07-20 09:17:19.768 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.DeleteHotel (HotelListing) in 6498.0872ms
2021-07-20 09:17:19.771 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:19.802 -04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Hotel/5 application/json 150 - 400 - text/plain;+charset=utf-8 7640.3113ms
2021-07-20 09:17:29.493 -04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Hotel/5 application/json 150
2021-07-20 09:17:29.504 -04:00 [INF] Successfully validated the token.
2021-07-20 09:17:29.506 -04:00 [INF] Authorization was successful.
2021-07-20 09:17:29.506 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:29.508 -04:00 [INF] Route matched with {action = "DeleteHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 09:17:29.635 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:17:29.667 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-20 09:17:29.667 -04:00 [ERR] invalid Delete attempt in DeleteHotel
2021-07-20 09:17:29.670 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-07-20 09:17:29.670 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.DeleteHotel (HotelListing) in 162.5304ms
2021-07-20 09:17:29.671 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:29.671 -04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Hotel/5 application/json 150 - 400 - text/plain;+charset=utf-8 178.3347ms
2021-07-20 09:17:37.321 -04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Hotel/5 application/json 150
2021-07-20 09:17:37.344 -04:00 [INF] Successfully validated the token.
2021-07-20 09:17:37.345 -04:00 [INF] Authorization was successful.
2021-07-20 09:17:37.345 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:37.346 -04:00 [INF] Route matched with {action = "DeleteHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 09:17:37.393 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:17:37.439 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-20 09:17:37.439 -04:00 [ERR] invalid Delete attempt in DeleteHotel
2021-07-20 09:17:37.439 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-07-20 09:17:37.439 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.DeleteHotel (HotelListing) in 93.1027ms
2021-07-20 09:17:37.440 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:37.440 -04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Hotel/5 application/json 150 - 400 - text/plain;+charset=utf-8 118.9392ms
2021-07-20 09:17:45.827 -04:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:5001/api/Hotel/4 application/json 150
2021-07-20 09:17:45.832 -04:00 [INF] Successfully validated the token.
2021-07-20 09:17:45.832 -04:00 [INF] Authorization was successful.
2021-07-20 09:17:45.832 -04:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:45.833 -04:00 [INF] Route matched with {action = "DeleteHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).
2021-07-20 09:17:45.834 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2021-07-20 09:17:45.846 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2021-07-20 09:17:45.985 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__p_0
2021-07-20 09:17:46.552 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Hotels]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2021-07-20 09:17:46.637 -04:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 204
2021-07-20 09:17:46.638 -04:00 [INF] Executed action HotelListing.Controllers.HotelController.DeleteHotel (HotelListing) in 804.7802ms
2021-07-20 09:17:46.638 -04:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.DeleteHotel (HotelListing)'
2021-07-20 09:17:46.638 -04:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:5001/api/Hotel/4 application/json 150 - 204 - - 811.0070ms
